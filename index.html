<!DOCTYPE HTML>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/tooltip.css">
    <meta name="viewport" content= "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="icon" type="favicon.ico" href="favicon.ico?v=5"  />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171067365-1"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<title>Hyojoon Park | Academic Website</title>
</head>

<body>
    <div id="header-bar">
    </div>
    <div id="div-main">
    <table id="table-main">
        <tbody>
            <!-- BIO -->
            <tr id="row-bio">
            </tr>

            <tr class="row-breaker"></tr>

            <!-- PUBLICATIONS -->
            <tr id="row-publication">
            </tr>

            <tr class="row-breaker"></tr>

            <!-- OTHER WORK -->
            <tr id="row-otherwork">
            </tr>
            
            <tr class="row-breaker"></tr>

            <!-- APP DEV -->
            <tr id="row-appdev">
            </tr>
            
            <tr class="row-breaker"></tr>

            <!-- DOC -->
            <tr id="row-doc">
            </tr>
        </tbody>
    </table>
    </div>
    </main>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-firestore.js"></script>
    <script src="/js/index.js"></script>

    <script>
        $(function(){
            $("#row-bio").load("bio.html");
            $("#row-publication").load("publication.html", function(){
                // After the content is loaded, attach the event listener
                $(".pub-toggle-btn").click(function() {
                    let $btn = $(this);
                    let $content = $($btn.closest('tr').next('tr').find('.pub-toggle-content'));
                    let isToggled = $btn.data('toggled');
                    if (isToggled) {
                        $content.slideUp();
                        $btn.data('toggled', false);
                    } else {
                        $content.slideDown();
                        $btn.data('toggled', true);
                    }
                    $btn.text($btn.data('toggled') ? "Collapse" : "Expand");
                });
                // Global toggle
                $(".pub-toggle-btn-global").click(function() {
                    let isToggled = $(this).data('toggled');
                    if (isToggled) {
                        $('.pub-toggle-content').slideUp();
                        $(this).data('toggled', false);
                        $('.pub-toggle-btn').data('toggled', false);
                    } else {
                        $('.pub-toggle-content').slideDown();
                        $(this).data('toggled', true);
                        $('.pub-toggle-btn').data('toggled', true);
                    }
                    let isToggledAfter = $(this).data('toggled');
                    $(".pub-toggle-btn").text(isToggledAfter ? "Collapse" : "Expand");
                    $(this).text(isToggledAfter ? "Collapse all" : "Expand all");
                });

                $(".pub-toggle-btn-global").data('toggled', true);
                $(".pub-toggle-btn").data('toggled', true);
                $(".pub-toggle-btn-global").text('Collapse all')
                $(".pub-toggle-btn").text('Collapse')
                $('.pub-toggle-content').show();
            });
            $("#row-otherwork").load("otherwork.html");
            $("#row-appdev").load("appdev.html");
            // $("#row-doc").load("doc.html");
        });
    </script>
</body>

</html>